<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-configuration PUBLIC
        "-//Hibernate/Hibernate Configuration DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd">
<hibernate-configuration>
    <session-factory>
        <!-- Database Connection Settings ========================== -->
        <property name="hibernate.connection.driver_class">${datasource.driver}</property>
        <property name="hibernate.connection.url">${datasource.url}</property>
        <property name="hibernate.connection.username">${datasource.username}</property>
        <property name="hibernate.connection.password">${datasource.password}</property>
        <property name="hibernate.default_schema">${datasource.schema}</property>

        <!-- HikariCP Connection Pool Settings ===================== -->
        <property name="hibernate.hikari.minimumIdle">${datasource.hikari.minimum-idle}</property>
        <property name="hibernate.hikari.maximumPoolSize">${datasource.hikari.maximum-pool-size}</property>
        <property name="hibernate.hikari.idleTimeout">${datasource.hikari.idle-timeout}</property>
        <property name="hibernate.hikari.connectionTimeout">${datasource.hikari.connection-timeout}</property>
        <property name="hibernate.hikari.maxLifetime">${datasource.hikari.max-lifetime}</property>
        <property name="hibernate.hikari.poolName">${datasource.hikari.pool-name}</property>
        <property name="hibernate.hikari.leakDetectionThreshold">${datasource.hikari.leak-detection-threshold}</property>
        <property name="hibernate.hikari.autoCommit">${datasource.hikari.auto-commit}</property>
        <property name="hibernate.hikari.dataSource.cachePrepStmts">true</property>
        <property name="hibernate.hikari.dataSource.prepStmtCacheSize">250</property>
        <property name="hibernate.hikari.dataSource.prepStmtCacheSqlLimit">2048</property>
        <property name="hibernate.hikari.dataSource.reWriteBatchedInserts">true</property>

        <!-- SQL Dialect =========================================== -->
        <property name="hibernate.dialect">${hibernate.dialect}</property>

        <!-- JDBC Batch Processing ================================= -->
        <property name="hibernate.jdbc.batch_size">${hibernate.jdbc.batch_size}</property>
        <property name="hibernate.jdbc.fetch_size">${hibernate.jdbc.fetch_size}</property>
        <property name="hibernate.jdbc.use_scrollable_resultset">false</property>
        <property name="hibernate.default_batch_fetch_size">${hibernate.default_batch_fetch_size}</property>
        <property name="hibernate.order_inserts">${hibernate.order_inserts}</property>
        <property name="hibernate.order_updates">${hibernate.order_updates}</property>
        <property name="hibernate.jdbc.batch_versioned_data">true</property>
        <property name="hibernate.id.new_generator_mappings">true</property>

        <!-- Schema Management ===================================== -->
        <property name="hibernate.hbm2ddl.auto">${hibernate.hbm2ddl.auto}</property>
        <property name="hibernate.hbm2ddl.import_files_sql_extractor">
            org.hibernate.tool.schema.internal.script.MultiLineSqlScriptExtractor
        </property>

        <!-- SQL Logging (Development Only) ======================== -->
        <property name="hibernate.show_sql">${hibernate.show_sql}</property>
        <property name="hibernate.format_sql">${hibernate.format_sql}</property>
        <property name="hibernate.use_sql_comments">${hibernate.use_sql_comments}</property>
        <property name="hibernate.highlight_sql">true</property>

        <!-- Statistics & Monitoring =============================== -->
        <property name="hibernate.generate_statistics">${hibernate.generate_statistics}</property>
        <property name="hibernate.session.events.log">false</property>

        <!-- Bean Validation ======================================= -->
        <property name="jakarta.persistence.validation.mode">AUTO</property>
        <property name="hibernate.check_nullability">true</property>

        <!-- Timezone Configuration ================================ -->
        <property name="hibernate.jdbc.time_zone">${hibernate.jdbc.time_zone}</property>

        <!-- Transaction Configuration ============================= -->
        <property name="hibernate.connection.handling_mode">DELAYED_ACQUISITION_AND_HOLD</property>
        <property name="hibernate.connection.provider_disables_autocommit">true</property>

        <!-- Lazy Loading Configuration ============================  -->
        <property name="hibernate.enable_lazy_load_no_trans">false</property>
        <property name="hibernate.bytecode.use_reflection_optimizer">true</property>

        <!-- Entity Mappings ======================================= -->
    </session-factory>
</hibernate-configuration>
